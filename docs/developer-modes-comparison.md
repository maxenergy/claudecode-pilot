# Developer Agent 执行模式对比指南

## 📋 概述

Developer Agent 提供两种执行模式，满足不同场景的开发需求：

1. **单任务模式** (`/developer`) - 精细控制，适合复杂任务
2. **自动化模式** (`/developer-auto`) - 批量执行，适合简单任务

---

## 🔄 模式对比表

| 维度 | 单任务模式 | 自动化模式 |
|------|-----------|-----------|
| **命令** | `/developer T001` | `/developer-auto T001` |
| **执行范围** | 单个任务 | 多个任务（连续执行） |
| **用户交互** | 每阶段等待确认 | 无需确认（自动进行） |
| **适用场景** | 复杂功能、需要监督 | 简单功能、批量处理 |
| **错误处理** | 显示错误，等待修复 | 立即停止，报告详情 |
| **进度显示** | 当前任务的阶段进度 | 整体进度 + 当前任务 |
| **完成后行为** | 停止，显示下一步建议 | 自动继续下一个任务 |
| **时间效率** | 较慢（需要人工确认） | 快速（无需等待） |
| **质量控制** | 高（每步检查） | 中（自动检查） |
| **学习曲线** | 低（逐步引导） | 中（需要理解流程） |

---

## 🎯 使用场景推荐

### 何时使用单任务模式？

✅ **复杂功能开发**
```
场景：实现复杂的状态管理逻辑
原因：需要在每个阶段仔细思考和验证
命令：/developer T015
```

✅ **学习和探索**
```
场景：第一次使用系统，了解 TDD 流程
原因：逐步确认可以更好地理解流程
命令：/developer T001
```

✅ **关键功能实现**
```
场景：实现支付、安全等关键功能
原因：需要额外的人工审查和确认
命令：/developer T020
```

✅ **需要调整方案**
```
场景：实现过程中可能需要调整设计
原因：可以在规划阶段修改方案
命令：/developer T008
```

---

### 何时使用自动化模式？

✅ **批量简单任务**
```
场景：实现 10 个类似的 CRUD 接口
原因：重复性工作，无需人工监督
命令：/developer-auto T010-T020
```

✅ **快速原型开发**
```
场景：快速实现 MVP 的所有基础功能
原因：追求速度，后续可以优化
命令：/developer-auto
```

✅ **Bug 批量修复**
```
场景：修复 15 个简单的 UI bug
原因：问题明确，修复方案清晰
命令：/developer-auto T030-T045
```

✅ **重构任务**
```
场景：将 20 个组件迁移到 TypeScript
原因：机械性工作，测试可以保证质量
命令：/developer-auto T050-T070
```

---

## 📖 详细使用指南

### 单任务模式使用流程

#### 1. 启动任务
```
/developer T001
```

#### 2. 阶段1：规划
```
系统显示：
📋 实现计划 - T001

### 涉及文件
**创建**:
- src/components/Timer.tsx
- tests/unit/Timer.test.tsx

### 接口设计
[详细设计...]

### 实现步骤
[步骤列表...]

是否继续？(输入 "继续" 或 "修改计划")
```

**用户操作**：
- 输入 `继续` → 进入下一阶段
- 输入 `修改计划` → 调整设计方案

#### 3. 阶段2：测试先行
```
系统显示：
✅ 测试文件已创建
⚠️ 测试状态：全部失败（预期行为）

是否继续实现？(输入 "继续")
```

**用户操作**：
- 检查测试用例是否完整
- 输入 `继续` → 进入实现阶段

#### 4. 阶段3-5：实现、重构、验收
```
系统自动执行：
- 编写代码
- 运行测试
- 代码重构
- 最终验收
```

#### 5. 完成
```
✅ 任务 T001 完成！

📊 任务统计:
- 文件创建: 3 个
- 测试覆盖率: 87%

📝 下一个任务: T002 - 实现暂停功能

选择操作:
- /developer T002  (继续手动执行)
- /developer-auto T002  (切换到自动模式)
- /reviewer T001  (代码审查)
```

---

### 自动化模式使用流程

#### 1. 启动自动化执行

**从指定任务开始**：
```
/developer-auto T001
```

**从第一个 pending 任务开始**：
```
/developer-auto
```

**执行指定范围**：
```
/developer-auto T005-T010
```

#### 2. 系统自动执行

```
🔄 自动化执行进度: 1/15
📋 当前任务: T001 - 项目基础配置
⏱️  预计时间: 1小时

【阶段1】规划 ✓ (2分钟)
【阶段2】测试先行 ✓ (5分钟)
【阶段3】最小实现 ⏳ (进行中...)
【阶段4】重构优化 ⏸️ (等待)
【阶段5】验收检查 ⏸️ (等待)
```

#### 3. 任务完成，自动继续

```
✅ T001 完成 | 测试通过 | 已提交

🔄 自动化执行进度: 2/15
📋 当前任务: T002 - 实现计时器核心
⏱️  预计时间: 2小时
...
```

#### 4. 全部完成

```
🎉 自动化执行完成！

📊 执行统计:
- 总任务数: 15
- 成功完成: 15
- 总耗时: 18小时
- 代码提交: 15次

📝 下一步建议:
- /task-list  (查看所有任务)
- /reviewer T001  (开始代码审查)
```

#### 5. 遇到错误（自动停止）

```
❌ 自动化执行在任务 T005 失败

📋 失败任务: T005 - 实现数据持久化
🔴 失败阶段: 阶段3 - 最小实现
📄 错误信息:
  TypeError: Cannot read property 'getItem' of undefined

📊 执行统计:
  - 已完成: 4/15 任务
  - 失败: T005

🔧 建议操作:
  1. 运行 /developer T005 手动修复
  2. 或运行 /debugger 进入调试模式
  3. 修复后运行 /developer-auto T005 继续
```

---

## 🔀 模式切换策略

### 从单任务切换到自动化

**场景**：前几个任务手动执行，后续任务自动执行

```bash
# 手动执行复杂任务
/developer T001
/developer T002
/developer T003

# 切换到自动模式执行简单任务
/developer-auto T004
```

### 从自动化切换到单任务

**场景**：自动执行遇到复杂任务，需要人工介入

```bash
# 自动执行简单任务
/developer-auto T001-T010

# 遇到复杂任务，切换到手动
/developer T011

# 继续自动执行
/developer-auto T012
```

---

## 💡 最佳实践

### 1. 任务分类

在开始开发前，将任务分类：

```markdown
## 简单任务（适合自动化）
- T001-T005: 基础配置
- T010-T020: CRUD 接口
- T030-T040: UI 组件

## 复杂任务（建议手动）
- T006: 状态管理架构
- T021: 支付集成
- T041: 性能优化
```

### 2. 分批执行

```bash
# 第一批：自动执行基础配置
/developer-auto T001-T005

# 第二批：手动执行核心功能
/developer T006
/developer T007

# 第三批：自动执行 CRUD
/developer-auto T010-T020
```

### 3. 错误恢复

自动化模式遇到错误后：

```bash
# 1. 查看错误详情
/debugger "错误描述"

# 2. 手动修复问题
/developer T005

# 3. 继续自动执行
/developer-auto T006
```

### 4. 进度监控

定期检查进度：

```bash
# 查看任务列表
/task-list

# 查看项目状态
/status

# 查看下一个任务
/next-task
```

---

## 🎓 学习路径

### 新手推荐

1. **第一个任务**：使用单任务模式，理解 TDD 流程
   ```
   /developer T001
   ```

2. **第二个任务**：继续单任务模式，熟悉流程
   ```
   /developer T002
   ```

3. **第三个任务**：尝试自动化模式，体验效率
   ```
   /developer-auto T003
   ```

4. **后续任务**：根据任务复杂度选择模式

### 进阶使用

1. **批量执行**：一次性执行多个简单任务
   ```
   /developer-auto T010-T030
   ```

2. **混合模式**：灵活切换，兼顾效率和质量
   ```
   /developer-auto T001-T005
   /developer T006
   /developer-auto T007-T010
   ```

3. **错误处理**：熟练使用调试工具
   ```
   /debugger "错误描述"
   ```

---

## 📊 效率对比

### 单任务模式

```
任务数: 10
平均每任务: 2小时（包含确认时间）
总耗时: 20小时
```

### 自动化模式

```
任务数: 10
平均每任务: 1.5小时（无需确认）
总耗时: 15小时
节省: 25%
```

### 混合模式（推荐）

```
简单任务: 7个 × 1.5小时 = 10.5小时（自动）
复杂任务: 3个 × 2小时 = 6小时（手动）
总耗时: 16.5小时
节省: 17.5%
质量: 更高（关键任务人工监督）
```

---

## ✅ 总结

| 模式 | 优势 | 劣势 | 推荐场景 |
|------|------|------|---------|
| **单任务** | 质量高、可控性强 | 速度慢、需要人工 | 复杂功能、学习阶段 |
| **自动化** | 速度快、效率高 | 灵活性低、错误停止 | 简单任务、批量处理 |
| **混合** | 兼顾质量和效率 | 需要判断和规划 | 实际项目开发 |

**建议**：根据任务复杂度灵活选择模式，关键任务手动执行，简单任务自动执行。

